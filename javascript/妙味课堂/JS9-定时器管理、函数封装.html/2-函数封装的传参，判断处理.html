<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>函数封装的传参、判断处理</title>
	<style>
	#div{width: 100px;height: 100px;background: red;position: absolute;top: 50px;left: 50px;}
	</style>
</head>
<body>
	<input type="button" id='btn1' value='往后' />
	<input type="button" id='btn2' value='往前' />
	<div id="div"></div>

	<script>
	window.onload=function(){
		var oBtn1=document.getElementById('btn1');
		var oBtn2=document.getElementById('btn2');
		var oDiv=document.getElementById('div');


		function doMove(oDiv,dir,target){//分别为对象、每次移动的距离、目标位置
			clearInterval(oDiv.timer);
			oDiv.timer=setInterval(function(){
				var speed=parseInt(getStyle(oDiv,'left'))+dir;
				if(speed>=target&&dir>0){speed=target}//往前跑
				if(speed<target&&dir<0){speed=target}//往后跑
				oDiv.style.left=speed+'px';
				if(speed==target){
					clearInterval(oDiv.timer);
					// alert(speed)
				}
			},50)
		}

		oBtn2.onclick=function(){
			doMove(oDiv,10,800)
		}
		oBtn1.onclick=function(){
			doMove(oDiv,-10,10)
		}
		// oBtn2.onclick=function(){
		// 	clearInterval(oDiv.timer);
		// 	oDiv.timer=setInterval(function(){
		// 	var speed=parseInt(getStyle(oDiv,'left'))+19;
		// 	if(speed>=800){speed=800}
		// 		oDiv.style.left=speed+'px';
		// 		if(speed==800){
		// 			clearInterval(oDiv.timer);
		// 			// alert(speed)
		// 		}
		// 	},50)
		// };
		function getStyle(obj,attr){
			return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
		}
	}
	</script>
</body>
</html>